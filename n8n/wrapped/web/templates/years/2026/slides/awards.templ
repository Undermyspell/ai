package slides

import (
	"github.com/michael/stammtisch-wrapped/web/templates/years/2026/viewmodels"
)

// AwardsIntro slide
templ AwardsIntro() {
	<div class="slide flex-col items-center justify-center h-screen px-6 text-center" data-duration="4000">
		<div class="animate-on-enter animate-scale-in">
			<span class="text-8xl mb-4 block animate-glow">ğŸ†</span>
		</div>
		<h2 class="animate-on-enter animate-fade-in-up delay-300 text-3xl md:text-4xl font-bold text-biergold text-glow mb-4">
			Die Stammtisch-Awards
		</h2>
		<p class="animate-on-enter animate-fade-in delay-500 text-xl text-schaum/70">
			Und der Gewinner ist...
		</p>
	</div>
}

// AwardCard renders a single award card
templ AwardCard(award viewmodels.AwardView) {
	<div class={ "animate-on-enter animate-scale-in " + award.DelayClass + " bg-gradient-to-r " + award.Color + " rounded-xl p-4" }>
		<div class="flex items-center gap-4">
			<span class="text-4xl">{ award.Emoji }</span>
			<div class="flex-1">
				<h3 class="font-bold text-biergold text-lg">{ award.Title }</h3>
				<p class="text-xs text-schaum/50">{ award.Subtitle }</p>
			</div>
			<div class="text-right">
				<span class="text-2xl">{ award.WinnerEmoji }</span>
				<p class="font-bold text-schaum">{ award.WinnerName }</p>
			</div>
		</div>
	</div>
}

// Awards slide
templ Awards(awards []viewmodels.AwardView) {
	<div class="slide flex-col items-center justify-start h-screen px-4 pt-10 pb-6 overflow-y-auto" data-duration="10000">
		<h2 class="animate-on-enter animate-fade-in text-xl font-bold text-biergold mb-6">
			ğŸ… Die Awards 2025
		</h2>
		<div class="w-full max-w-md space-y-4">
			for _, award := range awards {
				@AwardCard(award)
			}
		</div>
	</div>
}

// ConfettiParticle renders a single confetti particle
templ ConfettiParticle(p viewmodels.ConfettiParticle) {
	<div
		style={ "position: absolute; left: " + p.Left + "; top: -20px; width: " + p.Size + "; height: " + p.Size + "; background: " + p.Color + "; border-radius: " + p.BorderRadius + "; animation: confetti " + p.Duration + " ease-in " + p.Delay + " infinite;" }
	></div>
}

// Finale slide - Der groÃŸe Abschluss (server-side rendered confetti)
templ Finale(confetti viewmodels.ConfettiView) {
	<div class="slide flex-col items-center justify-center h-screen px-6 text-center relative overflow-hidden" data-duration="10000">
		<div class="absolute inset-0 pointer-events-none">
			for _, p := range confetti.Particles {
				@ConfettiParticle(p)
			}
		</div>
		<div class="animate-on-enter animate-scale-in z-10">
			<span class="text-8xl mb-6 block">ğŸ»</span>
		</div>
		<h2 class="animate-on-enter animate-fade-in-up delay-300 text-2xl md:text-3xl font-bold text-schaum mb-4 z-10">
			Danke fÃ¼r ein legendÃ¤res
		</h2>
		<h1 class="animate-on-enter animate-fade-in-up delay-500 text-4xl md:text-6xl font-bold text-biergold text-glow mb-6 z-10">
			Stammtisch-Jahr 2025!
		</h1>
		<p class="animate-on-enter animate-fade-in delay-700 text-xl text-schaum/70 mb-8 z-10">
			ğŸº 2026 wird noch stÃ¤rker â€“ donnerstags! ğŸº
		</p>
		<div class="animate-on-enter animate-fade-in-up delay-1000 z-10">
			<div class="flex gap-4 text-4xl">
				<span class="animate-bounce delay-100">ğŸ‰</span>
				<span class="animate-bounce delay-200">ğŸº</span>
				<span class="animate-bounce delay-300">ğŸ†</span>
				<span class="animate-bounce delay-400">ğŸŠ</span>
				<span class="animate-bounce delay-500">ğŸ»</span>
			</div>
		</div>
		<p class="animate-on-enter animate-fade-in delay-1500 text-schaum/50 text-sm mt-8 z-10">
			Prost auf euch alle! ğŸº
		</p>
	</div>
}
